import{c as e,d as a,aW as p}from"./index-C_KJhDjU.js";class n{static async searchByUserId(s){return e().get("/user-coupons",{params:{userId:s,page:1,pageSize:10,used:!1}})}static async search(s){return e().get(`/coupons/search/${s}`)}static apply(s){return e().post("/user-coupons",s)}static removeById(s){return e().delete(`/user-coupons/${s}`)}static async findAll(s){return(await e().get("/coupons/all-active",{params:s})).data}static async searchFirstDepositCoupon(s){return(await e().get("/coupons/all-active",{params:{onlyToFirstDeposit:s}})).data}}const i=a()(p((r,s)=>({hiddenUserIds:[],couponToApply:null,firstDepositCoupons:[],setCouponToApply:o=>r({couponToApply:o}),clearCouponToApply:()=>r({couponToApply:null}),hideModalForUser:o=>r(t=>({hiddenUserIds:[...t.hiddenUserIds,o]})),isHiddenForUser:o=>s().hiddenUserIds.includes(o),fetchFirstDepositCoupon:async()=>{try{const o=await n.searchFirstDepositCoupon(!0);r({firstDepositCoupons:o})}catch(o){console.error("Error to fetch first deposit coupons",o)}}}),{name:"coupon-store"}));export{n as C,i as u};
