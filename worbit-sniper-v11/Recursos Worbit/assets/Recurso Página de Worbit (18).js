import{r as l,Q as S,cy as Re,R as h,d6 as Fe,b8 as D,cl as Me,a6 as te,dq as oe,a0 as A,a1 as le,S as w,a2 as Be,bi as Le,bj as ze,bk as z,bl as Ae,W as Z,bz as We,aw as re,b6 as _e,ak as De,am as Ve,an as He,ao as qe,ap as Qe,ax as Xe,av as Ge,bt as Ze}from"./index-C_KJhDjU.js";import{B as V,c as se}from"./button-DJdt9XC8.js";import{b as ae,u as Ue,p as U,a as Ye,D as Je,c as Ke,d as en,P as nn}from"./index-DUFnKYjp.js";import{S as tn}from"./Skeleton-CDPE8yPt.js";import{w as on}from"./PurePanel-a4V6-x80.js";function ln(){const[e,t]=l.useState([]),s=l.useCallback(n=>(t(o=>[].concat(S(o),[n])),()=>{t(o=>o.filter(a=>a!==n))}),[]);return[e,s]}function W(e){return!!(e!=null&&e.then)}const ce=e=>{const{type:t,children:s,prefixCls:n,buttonProps:o,close:a,autoFocus:b,emitEvent:f,isSilent:c,quitOnNullishReturnValue:p,actionFn:r}=e,d=l.useRef(!1),u=l.useRef(null),[x,O]=Re(!1),m=function(){a==null||a.apply(void 0,arguments)};l.useEffect(()=>{let i=null;return b&&(i=setTimeout(()=>{var y;(y=u.current)===null||y===void 0||y.focus({preventScroll:!0})})),()=>{i&&clearTimeout(i)}},[]);const C=i=>{W(i)&&(O(!0),i.then(function(){O(!1,!0),m.apply(void 0,arguments),d.current=!1},y=>{if(O(!1,!0),d.current=!1,!(c!=null&&c()))return Promise.reject(y)}))},g=i=>{if(d.current)return;if(d.current=!0,!r){m();return}let y;if(f){if(y=r(i),p&&!W(y)){d.current=!1,m(i);return}}else if(r.length)y=r(a),d.current=!1;else if(y=r(),!W(y)){m();return}C(y)};return l.createElement(V,Object.assign({},se(t),{onClick:g,loading:x,prefixCls:n},o,{ref:u}),s)},F=h.createContext({}),{Provider:ie}=F,Y=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:s,isSilent:n,mergedOkCancel:o,rootPrefixCls:a,close:b,onCancel:f,onConfirm:c}=l.useContext(F);return o?h.createElement(ce,{isSilent:n,actionFn:f,close:function(){b==null||b.apply(void 0,arguments),c==null||c(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${a}-btn`},s):null},J=()=>{const{autoFocusButton:e,close:t,isSilent:s,okButtonProps:n,rootPrefixCls:o,okTextLocale:a,okType:b,onConfirm:f,onOk:c}=l.useContext(F);return h.createElement(ce,{isSilent:s,type:b||"primary",actionFn:c,close:function(){t==null||t.apply(void 0,arguments),f==null||f(!0)},autoFocus:e==="ok",buttonProps:n,prefixCls:`${o}-btn`},a)},rn=()=>Fe()&&window.document.documentElement,K=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:s}=l.useContext(F);return h.createElement(V,Object.assign({onClick:s},e),t)},ee=()=>{const{confirmLoading:e,okButtonProps:t,okType:s,okTextLocale:n,onOk:o}=l.useContext(F);return h.createElement(V,Object.assign({},se(s),{loading:e,onClick:o},t),n)};function ue(e,t){return h.createElement("span",{className:`${e}-close-x`},t||h.createElement(te,{className:`${e}-close-icon`}))}const fe=e=>{const{okText:t,okType:s="primary",cancelText:n,confirmLoading:o,onOk:a,onCancel:b,okButtonProps:f,cancelButtonProps:c,footer:p}=e,[r]=D("Modal",oe()),d=t||(r==null?void 0:r.okText),u=n||(r==null?void 0:r.cancelText),x={confirmLoading:o,okButtonProps:f,cancelButtonProps:c,okTextLocale:d,cancelTextLocale:u,okType:s,onOk:a,onCancel:b},O=h.useMemo(()=>x,S(Object.values(x)));let m;return typeof p=="function"||typeof p>"u"?(m=h.createElement(h.Fragment,null,h.createElement(K,null),h.createElement(ee,null)),typeof p=="function"&&(m=p(m,{OkBtn:ee,CancelBtn:K})),m=h.createElement(ie,{value:O},m)):m=p,h.createElement(Me,{disabled:!1},m)};var sn=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};let _;const an=e=>{_={x:e.pageX,y:e.pageY},setTimeout(()=>{_=null},100)};rn()&&document.documentElement.addEventListener("click",an,!0);const de=e=>{var t;const{getPopupContainer:s,getPrefixCls:n,direction:o,modal:a}=l.useContext(A),b=T=>{const{onCancel:$}=e;$==null||$(T)},f=T=>{const{onOk:$}=e;$==null||$(T)},{prefixCls:c,className:p,rootClassName:r,open:d,wrapClassName:u,centered:x,getContainer:O,focusTriggerAfterClose:m=!0,style:C,visible:g,width:i=520,footer:y,classNames:P,styles:v,children:k,loading:R}=e,I=sn(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),E=n("modal",c),H=n(),q=le(E),[Ee,Q,$e]=ae(E,q),je=w(u,{[`${E}-centered`]:!!x,[`${E}-wrap-rtl`]:o==="rtl"}),ve=y!==null&&!R?l.createElement(fe,Object.assign({},e,{onOk:f,onCancel:b})):null,[X,G,Te]=Ue(U(e),U(a),{closable:!0,closeIcon:l.createElement(te,{className:`${E}-close-icon`}),closeIconRender:T=>ue(E,T)}),we=Ye(`.${E}-content`),[Se,Ie]=Be("Modal",I.zIndex),[Ne,B]=l.useMemo(()=>i&&typeof i=="object"?[void 0,i]:[i,void 0],[i]),ke=l.useMemo(()=>{const T={};return B&&Object.keys(B).forEach($=>{const L=B[$];L!==void 0&&(T[`--${E}-${$}-width`]=typeof L=="number"?`${L}px`:L)}),T},[B]);return Ee(l.createElement(Le,{form:!0,space:!0},l.createElement(ze.Provider,{value:Ie},l.createElement(Je,Object.assign({width:Ne},I,{zIndex:Se,getContainer:O===void 0?s:O,prefixCls:E,rootClassName:w(Q,r,$e,q),footer:ve,visible:d??g,mousePosition:(t=I.mousePosition)!==null&&t!==void 0?t:_,onClose:b,closable:X&&{disabled:Te,closeIcon:G},closeIcon:G,focusTriggerAfterClose:m,transitionName:z(H,"zoom",e.transitionName),maskTransitionName:z(H,"fade",e.maskTransitionName),className:w(Q,p,a==null?void 0:a.className),style:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.style),C),ke),classNames:Object.assign(Object.assign(Object.assign({},a==null?void 0:a.classNames),P),{wrapper:w(je,P==null?void 0:P.wrapper)}),styles:Object.assign(Object.assign({},a==null?void 0:a.styles),v),panelRef:we}),R?l.createElement(tn,{active:!0,title:!1,paragraph:{rows:4},className:`${E}-body-skeleton`}):k))))},cn=e=>{const{componentCls:t,titleFontSize:s,titleLineHeight:n,modalConfirmIconSize:o,fontSize:a,lineHeight:b,modalTitleHeight:f,fontHeight:c,confirmBodyPadding:p}=e,r=`${t}-confirm`;return{[r]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${r}-body-wrapper`]:Object.assign({},We()),[`&${t} ${t}-body`]:{padding:p},[`${r}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(f).sub(o).equal()).div(2).equal()}},[`${r}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Z(e.marginSM)})`},[`${e.iconCls} + ${r}-paragraph`]:{maxWidth:`calc(100% - ${Z(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${r}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:s,lineHeight:n},[`${r}-content`]:{color:e.colorText,fontSize:a,lineHeight:b},[`${r}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${r}-error ${r}-body > ${e.iconCls}`]:{color:e.colorError},[`${r}-warning ${r}-body > ${e.iconCls},
        ${r}-confirm ${r}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${r}-info ${r}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${r}-success ${r}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},un=Ae(["Modal","confirm"],e=>{const t=Ke(e);return[cn(t)]},en,{order:-1e3});var fn=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};function me(e){const{prefixCls:t,icon:s,okText:n,cancelText:o,confirmPrefixCls:a,type:b,okCancel:f,footer:c,locale:p}=e,r=fn(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=s;if(!s&&s!==null)switch(b){case"info":d=l.createElement(Qe,null);break;case"success":d=l.createElement(qe,null);break;case"error":d=l.createElement(He,null);break;default:d=l.createElement(Ve,null)}const u=f??b==="confirm",x=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[O]=D("Modal"),m=p||O,C=n||(u?m==null?void 0:m.okText:m==null?void 0:m.justOkText),g=o||(m==null?void 0:m.cancelText),i=Object.assign({autoFocusButton:x,cancelTextLocale:g,okTextLocale:C,mergedOkCancel:u},r),y=l.useMemo(()=>i,S(Object.values(i))),P=l.createElement(l.Fragment,null,l.createElement(Y,null),l.createElement(J,null)),v=e.title!==void 0&&e.title!==null,k=`${a}-body`;return l.createElement("div",{className:`${a}-body-wrapper`},l.createElement("div",{className:w(k,{[`${k}-has-title`]:v})},d,l.createElement("div",{className:`${a}-paragraph`},v&&l.createElement("span",{className:`${a}-title`},e.title),l.createElement("div",{className:`${a}-content`},e.content))),c===void 0||typeof c=="function"?l.createElement(ie,{value:y},l.createElement("div",{className:`${a}-btns`},typeof c=="function"?c(P,{OkBtn:J,CancelBtn:Y}):P)):c,l.createElement(un,{prefixCls:t}))}const dn=e=>{const{close:t,zIndex:s,maskStyle:n,direction:o,prefixCls:a,wrapClassName:b,rootPrefixCls:f,bodyStyle:c,closable:p=!1,onConfirm:r,styles:d}=e,u=`${a}-confirm`,x=e.width||416,O=e.style||{},m=e.mask===void 0?!0:e.mask,C=e.maskClosable===void 0?!1:e.maskClosable,g=w(u,`${u}-${e.type}`,{[`${u}-rtl`]:o==="rtl"},e.className),[,i]=_e(),y=l.useMemo(()=>s!==void 0?s:i.zIndexPopupBase+De,[s,i]);return l.createElement(de,Object.assign({},e,{className:g,wrapClassName:w({[`${u}-centered`]:!!e.centered},b),onCancel:()=>{t==null||t({triggerCancel:!0}),r==null||r(!1)},title:"",footer:null,transitionName:z(f||"","zoom",e.transitionName),maskTransitionName:z(f||"","fade",e.maskTransitionName),mask:m,maskClosable:C,style:O,styles:Object.assign({body:c,mask:n},d),width:x,zIndex:y,closable:p}),l.createElement(me,Object.assign({},e,{confirmPrefixCls:u})))},Ce=e=>{const{rootPrefixCls:t,iconPrefixCls:s,direction:n,theme:o}=e;return l.createElement(re,{prefixCls:t,iconPrefixCls:s,direction:n,theme:o},l.createElement(dn,Object.assign({},e)))},N=[];let ge="";function be(){return ge}const mn=e=>{var t,s;const{prefixCls:n,getContainer:o,direction:a}=e,b=oe(),f=l.useContext(A),c=be()||f.getPrefixCls(),p=n||`${c}-modal`;let r=o;return r===!1&&(r=void 0),h.createElement(Ce,Object.assign({},e,{rootPrefixCls:c,prefixCls:p,iconPrefixCls:f.iconPrefixCls,theme:f.theme,direction:a??f.direction,locale:(s=(t=f.locale)===null||t===void 0?void 0:t.Modal)!==null&&s!==void 0?s:b,getContainer:r}))};function M(e){const t=Xe(),s=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:c,open:!0}),o,a;function b(){for(var r,d=arguments.length,u=new Array(d),x=0;x<d;x++)u[x]=arguments[x];if(u.some(C=>C==null?void 0:C.triggerCancel)){var m;(r=e.onCancel)===null||r===void 0||(m=r).call.apply(m,[e,()=>{}].concat(S(u.slice(1))))}for(let C=0;C<N.length;C++)if(N[C]===c){N.splice(C,1);break}a()}function f(r){clearTimeout(o),o=setTimeout(()=>{const d=t.getPrefixCls(void 0,be()),u=t.getIconPrefixCls(),x=t.getTheme(),O=h.createElement(mn,Object.assign({},r));a=Ge()(h.createElement(re,{prefixCls:d,iconPrefixCls:u,theme:x},t.holderRender?t.holderRender(O):O),s)})}function c(){for(var r=arguments.length,d=new Array(r),u=0;u<r;u++)d[u]=arguments[u];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),b.apply(this,d)}}),n.visible&&delete n.visible,f(n)}function p(r){typeof r=="function"?n=r(n):n=Object.assign(Object.assign({},n),r),f(n)}return f(n),N.push(c),{destroy:c,update:p}}function pe(e){return Object.assign(Object.assign({},e),{type:"warning"})}function xe(e){return Object.assign(Object.assign({},e),{type:"info"})}function ye(e){return Object.assign(Object.assign({},e),{type:"success"})}function Oe(e){return Object.assign(Object.assign({},e),{type:"error"})}function he(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Cn(e){let{rootPrefixCls:t}=e;ge=t}var gn=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};const bn=(e,t)=>{var s,{afterClose:n,config:o}=e,a=gn(e,["afterClose","config"]);const[b,f]=l.useState(!0),[c,p]=l.useState(o),{direction:r,getPrefixCls:d}=l.useContext(A),u=d("modal"),x=d(),O=()=>{var i;n(),(i=c.afterClose)===null||i===void 0||i.call(c)},m=function(){var i;f(!1);for(var y=arguments.length,P=new Array(y),v=0;v<y;v++)P[v]=arguments[v];if(P.some(I=>I==null?void 0:I.triggerCancel)){var R;(i=c.onCancel)===null||i===void 0||(R=i).call.apply(R,[c,()=>{}].concat(S(P.slice(1))))}};l.useImperativeHandle(t,()=>({destroy:m,update:i=>{p(y=>Object.assign(Object.assign({},y),i))}}));const C=(s=c.okCancel)!==null&&s!==void 0?s:c.type==="confirm",[g]=D("Modal",Ze.Modal);return l.createElement(Ce,Object.assign({prefixCls:u,rootPrefixCls:x},c,{close:m,open:b,afterClose:O,okText:c.okText||(C?g==null?void 0:g.okText:g==null?void 0:g.justOkText),direction:c.direction||r,cancelText:c.cancelText||(g==null?void 0:g.cancelText)},a))},pn=l.forwardRef(bn);let ne=0;const xn=l.memo(l.forwardRef((e,t)=>{const[s,n]=ln();return l.useImperativeHandle(t,()=>({patchElement:n}),[]),l.createElement(l.Fragment,null,s)}));function yn(){const e=l.useRef(null),[t,s]=l.useState([]);l.useEffect(()=>{t.length&&(S(t).forEach(b=>{b()}),s([]))},[t]);const n=l.useCallback(a=>function(f){var c;ne+=1;const p=l.createRef();let r;const d=new Promise(C=>{r=C});let u=!1,x;const O=l.createElement(pn,{key:`modal-${ne}`,config:a(f),ref:p,afterClose:()=>{x==null||x()},isSilent:()=>u,onConfirm:C=>{r(C)}});return x=(c=e.current)===null||c===void 0?void 0:c.patchElement(O),x&&N.push(x),{destroy:()=>{function C(){var g;(g=p.current)===null||g===void 0||g.destroy()}p.current?C():s(g=>[].concat(S(g),[C]))},update:C=>{function g(){var i;(i=p.current)===null||i===void 0||i.update(C)}p.current?g():s(i=>[].concat(S(i),[g]))},then:C=>(u=!0,d.then(C))}},[]);return[l.useMemo(()=>({info:n(xe),success:n(ye),error:n(Oe),warning:n(pe),confirm:n(he)}),[]),l.createElement(xn,{key:"modal-holder",ref:e})]}var On=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};const hn=e=>{const{prefixCls:t,className:s,closeIcon:n,closable:o,type:a,title:b,children:f,footer:c}=e,p=On(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:r}=l.useContext(A),d=r(),u=t||r("modal"),x=le(d),[O,m,C]=ae(u,x),g=`${u}-confirm`;let i={};return a?i={closable:o??!1,title:"",footer:"",children:l.createElement(me,Object.assign({},e,{prefixCls:u,confirmPrefixCls:g,rootPrefixCls:d,content:f}))}:i={closable:o??!0,title:b,footer:c!==null&&l.createElement(fe,Object.assign({},e)),children:f},O(l.createElement(nn,Object.assign({prefixCls:u,className:w(m,`${u}-pure-panel`,a&&g,a&&`${g}-${a}`,s,C,x)},p,{closeIcon:ue(u,n),closable:o},i)))},Pn=on(hn);function Pe(e){return M(pe(e))}const j=de;j.useModal=yn;j.info=function(t){return M(xe(t))};j.success=function(t){return M(ye(t))};j.error=function(t){return M(Oe(t))};j.warning=Pe;j.warn=Pe;j.confirm=function(t){return M(he(t))};j.destroyAll=function(){for(;N.length;){const t=N.pop();t&&t()}};j.config=Cn;j._InternalPanelDoNotUseOrYouWillBeFired=Pn;export{ce as A,j as M};
